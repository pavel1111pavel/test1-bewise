Сборка и запуск
Для развертывания проекта требуется использование Docker и docker-compose. Следуйте инструкциям ниже, чтобы собрать и запустить проект.

Шаг 1: Подготовка окружения
Установите Docker на вашу операционную систему, следуя инструкциям, доступным на официальном сайте Docker: https://docs.docker.com/get-docker/.
Шаг 2: Клонирование репозитория
Склонируйте репозиторий проекта из GitHub:


git clone https://github.com/pavel1111pavel/test_bywise.git
Перейдите в каталог проекта:

cd test_bywise
Шаг 3: Запуск контейнера с СУБД PostgreSQL
Откройте файл docker-compose.yml и убедитесь, что в разделе services присутствует сервис db с настройками PostgreSQL.

Запустите контейнер с СУБД PostgreSQL, выполнив команду:


docker-compose up -d db
Это создаст и запустит контейнер с PostgreSQL, который будет доступен на порту 5432.

Шаг 4: Запуск веб-сервиса
Откройте файл docker-compose.yml и убедитесь, что в разделе services присутствует сервис web с настройками FastAPI.

Запустите контейнер с веб-сервисом, выполнив команду:


docker-compose up -d web
Это создаст и запустит контейнер с веб-сервисом, который будет доступен на порту 8000.

Шаг 5: Использование веб-сервиса
Теперь вы можете использовать веб-сервис для получения вопросов для викторины.

Для отправки запроса с указанием количества вопросов используйте метод POST по адресу http://localhost:8000/quiz/.

В теле запроса укажите JSON-объект с полем "questions_num", содержащим количество требуемых вопросов. Пример:


{
  "questions_num": 5
}
В ответ вы получите JSON-объект с вопросами для викторины.

Полученные вопросы будут сохранены в базе данных PostgreSQL.

Сохранность данных
Для обеспечения сохранности данных при рестарте контейнера используется механизм volume-ов. Файлы СУБД PostgreSQL сохраняются на хост-машине в директории ./data.

Завершение работы
Чтобы остановить и удалить контейнеры проекта, выполните команду:


docker-compose down
Это завершит работу всех контейнеров, созданных для проекта.

Заметки
Убедитесь, что порты 5432 и 8000 на вашей машине свободны и не используются другими процессами.

При необходимости вы можете изменить настройки проекта, включая порты и переменные окружения, в файле docker-compose.yml.

